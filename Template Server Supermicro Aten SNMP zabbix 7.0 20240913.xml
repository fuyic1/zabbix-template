<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>7.0</version>
    <template_groups>
        <template_group>
            <uuid>e960332b3f6c46a1956486d4f3f99fce</uuid>
            <name>Templates/Server hardware</name>
        </template_group>
    </template_groups>
    <templates>
        <template>
            <uuid>cf0947cc05d3450b9a6d66b2eb180482</uuid>
            <template>Template Server Supermicro Aten SNMP zetyun</template>
            <name>Template Server Supermicro Aten SNMP zetyun</name>
            <description>Template Server Supermicro Aten

MIBs used:
HOST-RESOURCES-MIB
SNMPv2-MIB
ATEN-IPMI-MIB

Generated by official Zabbix template tool &quot;Templator&quot;</description>
            <vendor>
                <name>Zabbix</name>
                <version>7.0-0</version>
            </vendor>
            <groups>
                <group>
                    <name>Templates/Server hardware</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>7c60cd8613094b95bfd0ad45d04bc0e8</uuid>
                    <name>ICMP ping</name>
                    <type>SIMPLE</type>
                    <key>icmpping</key>
                    <history>7d</history>
                    <valuemap>
                        <name>Service state</name>
                    </valuemap>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>sysinfo</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>680c72ab6bb441779553b198081e3bf4</uuid>
                            <expression>max(/Template Server Supermicro Aten SNMP zetyun/icmpping,#3)=0</expression>
                            <name>Unavailable by ICMP ping</name>
                            <priority>HIGH</priority>
                            <description>Last three attempts returned timeout.  Please check device connectivity.</description>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>availability</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>4a8bd0d13bab4666aaf4c53b7722ec74</uuid>
                    <name>ICMP loss</name>
                    <type>SIMPLE</type>
                    <key>icmppingloss</key>
                    <history>7d</history>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>sysinfo</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>e2e4bfca2d0c4f8ebd64bef322d2a368</uuid>
                            <expression>min(/Template Server Supermicro Aten SNMP zetyun/icmppingloss,5m)&gt;{$ICMP_LOSS_WARN} and min(/Template Server Supermicro Aten SNMP zetyun/icmppingloss,5m)&lt;100</expression>
                            <name>High ICMP ping loss</name>
                            <opdata>Loss: {ITEM.LASTVALUE1}</opdata>
                            <priority>WARNING</priority>
                            <dependencies>
                                <dependency>
                                    <name>Unavailable by ICMP ping</name>
                                    <expression>max(/Template Server Supermicro Aten SNMP zetyun/icmpping,#3)=0</expression>
                                </dependency>
                            </dependencies>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>availability</value>
                                </tag>
                                <tag>
                                    <tag>scope</tag>
                                    <value>performance</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>feb1b9189b904b42b17ac4e1db49806e</uuid>
                    <name>ICMP response time</name>
                    <type>SIMPLE</type>
                    <key>icmppingsec</key>
                    <history>7d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>s</units>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>health</value>
                        </tag>
                        <tag>
                            <tag>component</tag>
                            <value>network</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>b6fb489c6a624b2994c5e50ba75539b2</uuid>
                            <expression>avg(/Template Server Supermicro Aten SNMP zetyun/icmppingsec,5m)&gt;{$ICMP_RESPONSE_TIME_WARN}</expression>
                            <name>High ICMP ping response time</name>
                            <opdata>Value: {ITEM.LASTVALUE1}</opdata>
                            <priority>WARNING</priority>
                            <description>Average ICMP response time is too high.</description>
                            <dependencies>
                                <dependency>
                                    <name>High ICMP ping loss</name>
                                    <expression>min(/Template Server Supermicro Aten SNMP zetyun/icmppingloss,5m)&gt;{$ICMP_LOSS_WARN} and min(/Template Server Supermicro Aten SNMP zetyun/icmppingloss,5m)&lt;100</expression>
                                </dependency>
                                <dependency>
                                    <name>Unavailable by ICMP ping</name>
                                    <expression>max(/Template Server Supermicro Aten SNMP zetyun/icmpping,#3)=0</expression>
                                </dependency>
                            </dependencies>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>availability</value>
                                </tag>
                                <tag>
                                    <tag>scope</tag>
                                    <value>performance</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>393cd15cbbbf4456bccdec3860d98b56</uuid>
                    <name>Product Manufacturer</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.21317.1.16.3.2.0</snmp_oid>
                    <key>Product.Manufacturer</key>
                    <delay>12h</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>sysinfo</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>0a28d4d06a5041eabb3fe6e5a2c73da4</uuid>
                    <name>Product Name</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.21317.1.16.3.4.0</snmp_oid>
                    <key>Product.Name</key>
                    <delay>12h</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>sysinfo</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ecfaca9f58cb40358ac562e4343b0d2e</uuid>
                    <name>Product Serial Number</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.21317.1.16.3.6.0</snmp_oid>
                    <key>Product.SerialNumber</key>
                    <delay>12h</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>sysinfo</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>cadc501d69624baa8ad292c2c8f6fd52</uuid>
                    <name>SNMP traps (fallback)</name>
                    <type>SNMP_TRAP</type>
                    <key>snmptrap.fallback</key>
                    <delay>0</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>LOG</value_type>
                    <description>The item is used to collect all SNMP traps unmatched by other snmptrap items</description>
                    <logtimefmt>hh:mm:sszyyyy/MM/dd</logtimefmt>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>network</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ccba865de57a41718b53ff1f82b2ca87</uuid>
                    <name>System contact details</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.4.0</snmp_oid>
                    <key>system.contact[sysContact.0]</key>
                    <delay>15m</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: SNMPv2-MIB
The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.</description>
                    <inventory_link>CONTACT</inventory_link>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>12h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>70f51b4370c64c2bab2c811359ef690b</uuid>
                    <name>System description</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.1.0</snmp_oid>
                    <key>system.descr[sysDescr.0]</key>
                    <delay>15m</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: SNMPv2-MIB
A textual description of the entity. This value should
include the full name and version identification of the system's hardware type, software operating-system, and
networking software.</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>12h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>8b0320157a0144a0b2f1d7df7cbbe08a</uuid>
                    <name>Uptime (hardware)</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.25.1.1.0</snmp_oid>
                    <key>system.hw.uptime[hrSystemUptime.0]</key>
                    <delay>30s</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <units>uptime</units>
                    <description>MIB: HOST-RESOURCES-MIB
The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.</description>
                    <preprocessing>
                        <step>
                            <type>CHECK_NOT_SUPPORTED</type>
                            <parameters>
                                <parameter>-1</parameter>
                            </parameters>
                            <error_handler>CUSTOM_VALUE</error_handler>
                            <error_handler_params>0</error_handler_params>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.01</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>sysinfo</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>52169be1d3924c638476a290590066f3</uuid>
                    <name>System location</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.6.0</snmp_oid>
                    <key>system.location[sysLocation.0]</key>
                    <delay>15m</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: SNMPv2-MIB
Physical location of the node (e.g., `equipment room`, `3rd floor`). If not provided, the value is a zero-length string.</description>
                    <inventory_link>LOCATION</inventory_link>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>12h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>afa2acff36034dccb96a1946e7039f39</uuid>
                    <name>System name</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.5.0</snmp_oid>
                    <key>system.name</key>
                    <delay>15m</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: SNMPv2-MIB
An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.</description>
                    <inventory_link>NAME</inventory_link>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>12h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>07b7a49bffea4c03a022eed632754f47</uuid>
                            <expression>last(/Template Server Supermicro Aten SNMP zetyun/system.name,#1)&lt;&gt;last(/Template Server Supermicro Aten SNMP zetyun/system.name,#2) and length(last(/Template Server Supermicro Aten SNMP zetyun/system.name))&gt;0</expression>
                            <name>System name has changed</name>
                            <event_name>System name has changed (new name: {ITEM.VALUE})</event_name>
                            <priority>INFO</priority>
                            <description>The name of the system has changed. Acknowledge to close the problem manually.</description>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                                <tag>
                                    <tag>scope</tag>
                                    <value>security</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>cc33c0e22893432280d642c75020a222</uuid>
                    <name>Uptime (network)</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.3.0</snmp_oid>
                    <key>system.net.uptime[sysUpTime.0]</key>
                    <delay>30s</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <units>uptime</units>
                    <description>MIB: SNMPv2-MIB
Time (in hundredths of a second) since the network management portion of the system was last re-initialized.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.01</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>sysinfo</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>a0c0d3ee729b4a159719271232024b45</uuid>
                    <name>System object ID</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.2.0</snmp_oid>
                    <key>system.objectid[sysObjectID.0]</key>
                    <delay>15m</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>DISABLED</status>
                    <value_type>CHAR</value_type>
                    <description>MIB: SNMPv2-MIB
The vendor's authoritative identification of the network management subsystem contained in the entity.  This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>12h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>e205f1aa96a448a2955e988fa8528600</uuid>
                    <name>SNMP agent availability</name>
                    <type>INTERNAL</type>
                    <key>zabbix[host,snmp,available]</key>
                    <history>7d</history>
                    <status>DISABLED</status>
                    <description>Availability of SNMP checks on the host. The value of this item corresponds to availability icons in the host list.
Possible values:
0 - not available
1 - available
2 - unknown</description>
                    <valuemap>
                        <name>zabbix.host.available</name>
                    </valuemap>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>health</value>
                        </tag>
                        <tag>
                            <tag>component</tag>
                            <value>network</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>caeb9732846b4ae586ee103ac0c4a65b</uuid>
                            <expression>max(/Template Server Supermicro Aten SNMP zetyun/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0</expression>
                            <name>No SNMP data collection</name>
                            <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                            <priority>WARNING</priority>
                            <description>SNMP is not available for polling. Please check device connectivity and SNMP settings.</description>
                            <dependencies>
                                <dependency>
                                    <name>Unavailable by ICMP ping</name>
                                    <expression>max(/Template Server Supermicro Aten SNMP zetyun/icmpping,#3)=0</expression>
                                </dependency>
                            </dependencies>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>availability</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <uuid>4575473e918246d7b3df3670643e4d90</uuid>
                    <name>CPU Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.21317.1.6.2.1.2]</snmp_oid>
                    <key>cpuDescr.discovery</key>
                    <delay>1h</delay>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>f3dbf4ab2c7a4f97953afe9e95a9163a</uuid>
                            <name>CPU_[{#SNMPINDEX}]_Cores</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.21317.1.6.2.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>CPUCores[{#SNMPINDEX}]</key>
                            <delay>12h</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>cores</units>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>cpu</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>a6d47ff7f3b24207b5fc8ac98defaeed</uuid>
                            <name>CPU_[{#SNMPINDEX}]_model</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.21317.1.6.2.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>CPUmodel[{#SNMPINDEX}]</key>
                            <delay>12h</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>cpu</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>c6fe3e3cf13d4c99bcf806554e880526</uuid>
                            <name>CPU_[{#SNMPINDEX}]_Threads</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.21317.1.6.2.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>CPUThreads[{#SNMPINDEX}]</key>
                            <delay>12h</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>threads</units>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>cpu</value>
                                </tag>
                            </tags>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>e31995e21b3942e58b7ed451f57f0360</uuid>
                    <name>FAN Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.21317.1.3.1.2,{#SENSOR_DESCR},1.3.6.1.4.1.21317.1.3.1.13]</snmp_oid>
                    <key>fan.discovery</key>
                    <delay>1h</delay>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#SENSOR_DESCR}</macro>
                                <value>FAN.*</value>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>[1-9]+</value>
                                <formulaid>B</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Scanning ATEN-IPMI-MIB::sensorTable with filter: not connected FAN sensors (Value = 0)</description>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>5309e5fab7a44b11a8f045db2868a544</uuid>
                            <name>{#SENSOR_DESCR}: Fan speed</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.21317.1.3.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.fan.speed.percentage[sensorReading.{#SNMPINDEX}]</key>
                            <history>7d</history>
                            <trends>90d</trends>
                            <units>rpm</units>
                            <description>MIB: ATEN-IPMI-MIB
A textual string containing information about the interface.
This string should include the name of the manufacturer, the product name and the version of the interface hardware/software.</description>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>fan</value>
                                </tag>
                            </tags>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>eaa0e67b1b2642e798396cf0912d076b</uuid>
                    <name>MEM Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.21317.1.6.3.1.2]</snmp_oid>
                    <key>memDescr.discovery</key>
                    <delay>12h</delay>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>39c235b21d644cd4bd03bf687a79d0de</uuid>
                            <name>Mem_[{#SNMPVALUE}]_Manufactry</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.21317.1.6.3.1.8.{#SNMPINDEX}</snmp_oid>
                            <key>MemManufactry[{#SNMPVALUE}]</key>
                            <delay>12h</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>mem</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>457ed6de860a4938ae12bdae954194b3</uuid>
                            <name>Mem_[{#SNMPVALUE}]_MaxFreq</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.21317.1.6.3.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>MemMaxFreq[{#SNMPVALUE}]</key>
                            <delay>12h</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>Mhz</units>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>mem</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>9e23d6a295824a5d8c0da6484659e762</uuid>
                            <name>Mem_[{#SNMPVALUE}]_Size</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.21317.1.6.3.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>MemSize[{#SNMPVALUE}]</key>
                            <delay>12h</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>GB</units>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <parameters>
                                        <parameter>0.001</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>mem</value>
                                </tag>
                            </tags>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>ea9519edc9094fa093a89375d2a16a5f</uuid>
                    <name>Power Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.21317.1.14.2.1.1,{#SENSOR_DESCR},1.3.6.1.4.1.21317.1.14.2.1.2]</snmp_oid>
                    <key>powerDescr.discovery</key>
                    <delay>1h</delay>
                    <filter>
                        <conditions>
                            <condition>
                                <macro>{#SENSOR_DESCR}</macro>
                                <value>1</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>26fdb777bb5f424dbf42ce137d095a60</uuid>
                            <name>Power_[{#SNMPINDEX}]_inputCurrent</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.21317.1.14.2.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>inputCurrent[{#SNMPINDEX}]</key>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>53f5a21f3c5f45409c088f685167ad96</uuid>
                            <name>Power_[{#SNMPINDEX}]_inputVoltage</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.21317.1.14.2.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>inputVoltage[{#SNMPINDEX}]</key>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>d9e541d4e14946c2a3ca0b3a315055d9</uuid>
                            <name>Power_[{#SNMPINDEX}]_Cost</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.21317.1.14.2.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>PowerCost[{#SNMPINDEX}]</key>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>w</units>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>065efa82f4d14d8d9425c7643dca7e43</uuid>
                            <name>Power_[{#SNMPINDEX}]_Status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.21317.1.14.2.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>PowerStatus[{#SNMPINDEX}]</key>
                            <history>7d</history>
                            <trends>0</trends>
                            <valuemap>
                                <name>supermicro</name>
                            </valuemap>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>c03c556ed8e441099513aaacaf4a3752</uuid>
                    <name>Temperature Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.21317.1.3.1.2,{#SENSOR_DESCR},1.3.6.1.4.1.21317.1.3.1.13]</snmp_oid>
                    <key>tempDescr.discovery</key>
                    <delay>1h</delay>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#SENSOR_DESCR}</macro>
                                <value>.*Temp.*</value>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>[1-9]+</value>
                                <formulaid>B</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Scanning ATEN-IPMI-MIB::sensorTable with filter: not connected temp sensors (Value = 0)</description>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>fe3acdb63d884c10bc5abe7edf001ceb</uuid>
                            <name>{#SENSOR_DESCR}: Temperature</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.21317.1.3.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.temp.value[sensorReading.{#SNMPINDEX}]</key>
                            <delay>3m</delay>
                            <history>7d</history>
                            <value_type>FLOAT</value_type>
                            <units>Â°C</units>
                            <description>MIB: ATEN-IPMI-MIB
A textual string containing information about the interface.
This string should include the name of the manufacturer, the product name and the version of the interface hardware/software.</description>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>temperature</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>1a48aee477d54d34bdea47fc6027968c</uuid>
                                    <expression>avg(/Template Server Supermicro Aten SNMP zetyun/sensor.temp.value[sensorReading.{#SNMPINDEX}],5m)&gt;{$TEMP_CRIT:&quot;{#SENSOR_DESCR}&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>max(/Template Server Supermicro Aten SNMP zetyun/sensor.temp.value[sensorReading.{#SNMPINDEX}],5m)&lt;{$TEMP_CRIT:&quot;{#SENSOR_DESCR}&quot;}-3</recovery_expression>
                                    <name>{#SENSOR_DESCR}: Temperature is above critical threshold</name>
                                    <event_name>{#SENSOR_DESCR}: Temperature is above critical threshold: &gt;{$TEMP_CRIT:&quot;{#SENSOR_DESCR}&quot;}</event_name>
                                    <opdata>Current value: {ITEM.LASTVALUE1}</opdata>
                                    <priority>HIGH</priority>
                                    <description>This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>availability</value>
                                        </tag>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>performance</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>2c2914d1c8c846d180ee308fa861540e</uuid>
                                    <expression>avg(/Template Server Supermicro Aten SNMP zetyun/sensor.temp.value[sensorReading.{#SNMPINDEX}],5m)&gt;{$TEMP_WARN:&quot;{#SENSOR_DESCR}&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>max(/Template Server Supermicro Aten SNMP zetyun/sensor.temp.value[sensorReading.{#SNMPINDEX}],5m)&lt;{$TEMP_WARN:&quot;{#SENSOR_DESCR}&quot;}-3</recovery_expression>
                                    <name>{#SENSOR_DESCR}: Temperature is above warning threshold</name>
                                    <event_name>{#SENSOR_DESCR}: Temperature is above warning threshold: &gt;{$TEMP_WARN:&quot;{#SENSOR_DESCR}&quot;}</event_name>
                                    <opdata>Current value: {ITEM.LASTVALUE1}</opdata>
                                    <priority>WARNING</priority>
                                    <description>This trigger uses temperature sensor values as well as temperature sensor status if available</description>
                                    <dependencies>
                                        <dependency>
                                            <name>{#SENSOR_DESCR}: Temperature is above critical threshold</name>
                                            <expression>avg(/Template Server Supermicro Aten SNMP zetyun/sensor.temp.value[sensorReading.{#SNMPINDEX}],5m)&gt;{$TEMP_CRIT:&quot;{#SENSOR_DESCR}&quot;}</expression>
                                            <recovery_expression>max(/Template Server Supermicro Aten SNMP zetyun/sensor.temp.value[sensorReading.{#SNMPINDEX}],5m)&lt;{$TEMP_CRIT:&quot;{#SENSOR_DESCR}&quot;}-3</recovery_expression>
                                        </dependency>
                                    </dependencies>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>availability</value>
                                        </tag>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>performance</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>1439e7a34bbf4046836890f208f99a48</uuid>
                                    <expression>avg(/Template Server Supermicro Aten SNMP zetyun/sensor.temp.value[sensorReading.{#SNMPINDEX}],5m)&lt;{$TEMP_CRIT_LOW:&quot;{#SENSOR_DESCR}&quot;}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>min(/Template Server Supermicro Aten SNMP zetyun/sensor.temp.value[sensorReading.{#SNMPINDEX}],5m)&gt;{$TEMP_CRIT_LOW:&quot;{#SENSOR_DESCR}&quot;}+3</recovery_expression>
                                    <name>{#SENSOR_DESCR}: Temperature is too low</name>
                                    <event_name>{#SENSOR_DESCR}: Temperature is too low: &lt;{$TEMP_CRIT_LOW:&quot;{#SENSOR_DESCR}&quot;}</event_name>
                                    <opdata>Current value: {ITEM.LASTVALUE1}</opdata>
                                    <priority>AVERAGE</priority>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>availability</value>
                                        </tag>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>performance</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <tags>
                <tag>
                    <tag>class</tag>
                    <value>hardware</value>
                </tag>
                <tag>
                    <tag>target</tag>
                    <value>aten</value>
                </tag>
                <tag>
                    <tag>target</tag>
                    <value>supermicro</value>
                </tag>
            </tags>
            <macros>
                <macro>
                    <macro>{$ICMP_LOSS_WARN}</macro>
                    <value>20</value>
                    <description>Warning threshold of ICMP packet loss in %.</description>
                </macro>
                <macro>
                    <macro>{$ICMP_RESPONSE_TIME_WARN}</macro>
                    <value>0.15</value>
                    <description>Warning threshold of the average ICMP response time in seconds.</description>
                </macro>
                <macro>
                    <macro>{$SNMP.TIMEOUT}</macro>
                    <value>5m</value>
                    <description>Time interval for the SNMP availability trigger.</description>
                </macro>
                <macro>
                    <macro>{$TEMP_CRIT}</macro>
                    <value>90</value>
                </macro>
                <macro>
                    <macro>{$TEMP_CRIT_LOW}</macro>
                    <value>5</value>
                </macro>
                <macro>
                    <macro>{$TEMP_WARN}</macro>
                    <value>80</value>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <uuid>e6794dc7602149a3b4fdbfeef45f6e8e</uuid>
                    <name>Service state</name>
                    <mappings>
                        <mapping>
                            <value>0</value>
                            <newvalue>Down</newvalue>
                        </mapping>
                        <mapping>
                            <value>1</value>
                            <newvalue>Up</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>0cd8c7774db0488e95e184b9e069da85</uuid>
                    <name>supermicro</name>
                    <mappings>
                        <mapping>
                            <value>0</value>
                            <newvalue>fail</newvalue>
                        </mapping>
                        <mapping>
                            <value>1</value>
                            <newvalue>good</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>1fbe26c5dcb3457f98f84a240aa790cd</uuid>
                    <name>zabbix.host.available</name>
                    <mappings>
                        <mapping>
                            <value>0</value>
                            <newvalue>not available</newvalue>
                        </mapping>
                        <mapping>
                            <value>1</value>
                            <newvalue>available</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>unknown</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
    </templates>
    <triggers>
        <trigger>
            <uuid>37aab043ea474548ab1e54e504720bed</uuid>
            <expression>(last(/Template Server Supermicro Aten SNMP zetyun/system.hw.uptime[hrSystemUptime.0])&gt;0 and last(/Template Server Supermicro Aten SNMP zetyun/system.hw.uptime[hrSystemUptime.0])&lt;10m) or (last(/Template Server Supermicro Aten SNMP zetyun/system.hw.uptime[hrSystemUptime.0])=0 and last(/Template Server Supermicro Aten SNMP zetyun/system.net.uptime[sysUpTime.0])&lt;10m)</expression>
            <name>Host has been restarted</name>
            <event_name>{HOST.NAME} has been restarted (uptime &lt; 10m)</event_name>
            <priority>WARNING</priority>
            <description>Uptime is less than 10 minutes.</description>
            <manual_close>YES</manual_close>
            <dependencies>
                <dependency>
                    <name>No SNMP data collection</name>
                    <expression>max(/Template Server Supermicro Aten SNMP zetyun/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0</expression>
                </dependency>
            </dependencies>
            <tags>
                <tag>
                    <tag>scope</tag>
                    <value>notice</value>
                </tag>
            </tags>
        </trigger>
    </triggers>
</zabbix_export>
